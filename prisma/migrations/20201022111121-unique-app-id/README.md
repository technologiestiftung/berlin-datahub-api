# Migration `20201022111121-unique-app-id`

This migration has been generated by fabianmoronzirfas at 10/22/2020, 1:11:21 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Device" DROP COLUMN "ttnAppId"

CREATE UNIQUE INDEX "Project.ttnAppId_unique" ON "public"."Project"("ttnAppId")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201022110907-unique-device..20201022111121-unique-app-id
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -23,9 +23,9 @@
   id          Int      @id @default(autoincrement())
   description String
   title       String
   city        String?
-  ttnAppId    String?
+  ttnAppId    String?  @unique
   devices     Device[]
   User        User?    @relation(fields: [userId], references: [id])
   userId      Int?
 }
@@ -33,9 +33,8 @@
 model Device {
   id Int @id @default(autoincrement())
   ttnDeviceId String   @unique
-  ttnAppId    String
   description String?
   records     Record[]
   latitude    Float?
   longitude   Float?
```


